<div class="card_dashboard mat-elevation-z4">
  <mat-card>
    <mat-card-header id="title">
      <mat-card-title id="title_police">Questions/Réponses</mat-card-title>
    </mat-card-header>
    <hr>
    <mat-card-content *ngIf="isLoaded && simulation.exam">
      <mat-tab-group mat-align-tabs="center">

        <mat-tab *ngFor="let set of simulation.exam.exerciceSet" [label]="set.name">
          <mat-accordion>

            <mat-expansion-panel *ngFor="let question of set.questions">
              <mat-expansion-panel-header>
                <mat-panel-title> {{question.question}}</mat-panel-title>
              </mat-expansion-panel-header>

              <ul *ngFor="let choice of question.choices">
                <li>{{choice.choice}}
                  <mat-icon *ngIf="choice.id == question.userAnswerId" title="réponse correcte">person</mat-icon>
                  <mat-icon *ngIf="choice.id == question.indexAnswer" title="réponse correcte">done</mat-icon>
                </li>
              </ul>

              <p>{{question.feedBack}}</p>
            </mat-expansion-panel>

          </mat-accordion>
        </mat-tab>

      </mat-tab-group>
    </mat-card-content>

    <mat-card-content *ngIf="isLoaded && ! simulation.exam">
      <h1>Aucun questionnaire trouvé</h1>
    </mat-card-content>

    <div class="progressBarDiv" *ngIf="!isLoaded">
      <mat-spinner class="loading_mat_spinner" color="primary"></mat-spinner>
    </div>
  </mat-card>

</div>